

package com.mycompany.proyepoo;

/**
 *
 * @author valen
 */
public class ProyePOO {

    public static void main(String[] args) {
        System.out.println("Hello World!");
    }
}

public static void main(String[] args) {
        // 1. Inicializar la Conexión a la Base de Datos
        // NOTA: Se asume que tienes una clase para manejar la conexión a MongoDB.
        if (inicializarBaseDeDatos()) {
            System.out.println("Conexión a MongoDB exitosa.");
            
            // 2. Ejecutar la interfaz gráfica en el Event Dispatch Thread (EDT)
            // Esto es crucial para la estabilidad de las aplicaciones Swing.
            javax.swing.SwingUtilities.invokeLater(new Runnable() {
                public void run() {
                    // Instanciar y mostrar la primera pantalla: el Login
                    mostrarLogin();
                }
            });
        } else {
            // Manejo de error si la conexión falla
            System.err.println("ERROR: No se pudo conectar a la base de datos. La aplicación se cerrará.");
            // Usar JOptionPane para notificar al usuario en una aplicación GUI
            javax.swing.JOptionPane.showMessageDialog(null, 
                    "No se pudo conectar a la base de datos (MongoDB). Verifique el servicio.", 
                    "Error de Conexión", 
                    javax.swing.JOptionPane.ERROR_MESSAGE);
            System.exit(1);
        }
    }

    /**
     * Intenta establecer la conexión con MongoDB.
     * @return true si la conexión es exitosa, false en caso contrario.
     */
    private static boolean inicializarBaseDeDatos() {
        try {
            // -- Lógica para establecer la conexión --
            // Se recomienda usar la clase MongoDBConnection (Singleton)
            // Ejemplo: return MongoDBConnection.getInstance().connect();
            
            // Simulación de una conexión exitosa (reemplazar con código real)
            // Aquí iría el código real de conexión a tu instancia de MongoDB
            return true; 
            
        } catch (Exception e) {
            e.printStackTrace();
            return false;
        }
    }
    
    // login
    private static void mostrarLogin() {
        // NOTA: Se asume que tienes una clase llamada LoginFrame
        // LoginFrame loginFrame = new LoginFrame();
        // loginFrame.setVisible(true);
        
        // Simulación: Mostrando un mensaje de éxito
        javax.swing.JOptionPane.showMessageDialog(null, 
                    "Autenticación (Login) simulada lanzada con éxito.", 
                    "Inicio del Sistema", 
                    javax.swing.JOptionPane.INFORMATION_MESSAGE);
        
        // Si el login es exitoso, se llamará al MenuPrincipalFrame desde el LoginFrame.
    }
}
